<% include ../partials/header %>
  <body>
    <% include ../partials/nav %>

    <!-- Back to shows button -->
    <form action="/shows" method="GET">
      <button>Return to Shows</button>
    </form>

    <!-- Show title -->
    <h2><%= showData.name %></h2>

    <!-- If there's a show poster, display poster -->
    <% if (showData.poster_path) { %>
      <img src="http://image.tmdb.org/t/p/w185<%= showData.poster_path %>">
    <% } %>

    <!-- Add to favorites button -->
    <!-- Doesn't work yet -->
    <form action="/show/<% showData.id %>" method="POST">
      <button class="add-btn">
        Add to Favorites
      </button>
    </form>

    <!-- Remove from favorites button -->
    <!-- Doesn't work yet -->
    <form action="/show/<% showData.id %>" method="POST">
      <button class="remove-btn">
        Remove from Favorites
      </button>
    </form>

    <!-- Show description -->
    <p><%= showData.overview %></p>
    <!-- Fix format of date, and display show airdate -->
    <% dates = showData.first_air_date.split('-') %>
    <p>First aired: <%= `${dates[1]}-${dates[2]}-${dates[0]}` %></p>
    <!-- Show genres -->
    <% for (let i = 0; i < showData.genres.length; i++) { %>
      <p><%= showData.genres[i].name %></p>
    <% } %>
    <p>Seasons: <%= showData.number_of_seasons %></p>
    <p>Episodes: <%= showData.number_of_episodes %></p>
    <p>Rating: <%= showData.vote_average %></p>
    <p>Popularity: <%= showData.popularity %></p>
    <p>Status: <%= showData.status %></p>
    <!-- Show website link -->
    <a href="<%= showData.homepage %>">Website</a>

    <!-- Season breakdown -->
    <h2>Seasons:</h2>
    <!-- For each season, display data -->
    <% for (let i = 0; i < showData.seasons.length; i++) { %>
      <!-- Store show id and seasons number -->
      <% showId = showData.id %>
      <% seasonNumber = showData.seasons[i].season_number %>

      <!-- Season name -->
      <h3><%= showData.seasons[i].name %></h3>

      <!-- If there's a season poster, display poster -->
      <% if (showData.seasons[i].poster_path) { %>
        <a href="/show/<%= showData.id %>/season/<%= showData.seasons[i].season_number %>">
          <img src="http://image.tmdb.org/t/p/w185<%= seasonImg = showData.seasons[i].poster_path %>">
        </a>
      <% } %>

      <!-- Fix format of date, and display show airdate -->
      <% if (showData.seasons[i].air_date) { %>
        <% dates = showData.seasons[i].air_date.split('-') %>
        <p>Premiered: <%= `${dates[1]}-${dates[2]}-${dates[0]}` %></p>
      <% } %>

      <!-- Number of episodes -->
      <p>Total episodes: <%= episodeCount = showData.seasons[i].episode_count %></p>
    <% } %>

    <!-- Show recommendations -->
    <h1>Similar shows:<h1>

  </body>
</html>
